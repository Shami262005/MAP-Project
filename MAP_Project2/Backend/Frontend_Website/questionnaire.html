<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tech Interest Questionnaire</title>
  <style>
    :root {
      --primary-green: #20531a;
      --secondary-green: #1a4415;
      --bg: #fee7bdc6;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      margin: 0;
      padding: 20px;
      flex-grow: 1;
      position: relative; /* Needed for absolute positioning */
      min-height: 100vh; /* Ensures full coverage */
      overflow-x: hidden; /* Prevents unwanted scrolling */
    }

    /* Blurred background (does not affect layout) */
    body::before {
      content: "";
      position: fixed; /* Covers entire viewport without moving */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('icons/bg.jpg');
      background-size: cover; /* Prevents repeating */
      background-position: center;
      background-repeat: no-repeat;
      z-index: -1; /* Keeps it behind content */
      transform: scale(1.1); /* Expands the image to hide blurred edges */
      filter: blur(5px); /* Adjust blur strength */
    }
    h2 {
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: 20px auto;
      background: var(--bg);
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .question {
      margin-bottom: 15px;
    }
    .question label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }
    .options {
      margin-left: 20px;
    }
    .options input {
      margin-right: 5px;
    }
    button {
      display: block;
      width: 100%;
      padding: 10px;
      background: var(--primary-green);
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background: var(--secondary-green);
    }
    .result {
      display: none;
      margin-top: 20px;
      padding: 15px;
      background: #e7f3fe;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ðŸŒŸ Tech Interest Questionnaire ðŸŒŸ</h2>
    <form id="questionnaire-form">
      <div class="question">
        <label>1. Do you enjoy solving puzzles and logic problems?</label>
        <div class="options">
          <input type="radio" name="puzzles" value="yes" required> Yes
          <input type="radio" name="puzzles" value="no"> No
        </div>
      </div>

      <div class="question">
        <label>2. Do you prefer designing layouts and visuals?</label>
        <div class="options">
          <input type="radio" name="design" value="yes" required> Yes
          <input type="radio" name="design" value="no"> No
        </div>
      </div>

      <div class="question">
        <label>3. Have you ever written any code before?</label>
        <div class="options">
          <input type="radio" name="code" value="yes" required> Yes
          <input type="radio" name="code" value="no"> No
        </div>
      </div>

      <div class="question">
        <label>4. Would you like to create interactive web pages?</label>
        <div class="options">
          <input type="radio" name="interactive" value="yes" required> Yes
          <input type="radio" name="interactive" value="no"> No
        </div>
      </div>

      <div class="question">
        <label>5. Are you interested in making animations or games?</label>
        <div class="options">
          <input type="radio" name="animations" value="yes" required> Yes
          <input type="radio" name="animations" value="no"> No
        </div>
      </div>

      <div class="question">
        <label>6. Do you prefer structuring content over interactivity?</label>
        <div class="options">
          <input type="radio" name="structure" value="yes" required> Yes
          <input type="radio" name="structure" value="no"> No
        </div>
      </div>

      <button type="button" class="qsubmit-btn">Submit</button>
    </form>

    <div id="recommendation" class="result"></div>
  </div>

  <!-- <script>
    document
      .getElementById('questionnaire-form')
      .addEventListener('submit', async function(e) {
        e.preventDefault();

        // Collect answers
        const fields = ['puzzles','design','code','interactive','animations','structure'];
        const answers = fields.map((name, idx) => {
          const val = document.querySelector(`input[name="${name}"]:checked`).value;
          return { question: idx+1, answer: val };
        });

        // Show loading
        const recDiv = document.getElementById('recommendation');
        recDiv.style.display = 'block';
        recDiv.style.color = 'inherit';
        recDiv.innerText = 'ðŸ’¬ Getting recommendationâ€¦';

        // Send to backend
        try {
          const res = await fetch('http://localhost:5000/chat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ answers })
          });
          const js = await res.json();
          recDiv.innerText = js.response;
        } catch (err) {
          recDiv.innerText = 'Error fetching recommendation.';
          recDiv.style.color = 'red';
        }
      });
  </script> -->
  <script src="questionnare.js"></script>
</body>
</html>
